---
title: Variables
description: User-defined and special reg/q/t variables.
---

In expression code, variables can be used to store and retrieve a single number. There are three logical types of
variables:

- Predefined variables depending on the execution context which act as inputs and outputs for a specific effect.
- Up to 64 (in the original Milkdrop and derivatives, projectM does not impose a limit) user-defined variables, which
  can simply be used without declaration.
- The special `reg`, `q` and `t` variables, which are used to carry over values from context to context in a certain
  way.

The `q` and `t` variables predate the `reg` variables and the megabuf feature and were the only way to pass values along
between preset effects in earlier (pre-2.0) Milkdrop versions.

## `reg` Variables

The global `reg` variables are 100 additional, pre-defined variables which can be used to store global values. These
variables are named `reg00`, `reg01` etc. up to `reg99`. Values stored in those variables are available in all execution
contexts, in the same way as gmegabuf.

Register variables are not reassigned/coped between effects, so the values stored within will be passed form one effect
to the next [in the order they are drawn](../preset-rendering-process).

**Important:** The index must always be written with two digits. `reg3` or `reg100` are _not_ considered global
variables and will behave like any other user-defined variable.

Same as with gmegabuf, in Milkdrop and derivatives, global variables are not necessarily set to `0` when a preset is
initialized, and they can change at any time when two presets using the same global variables are blended during a
transition. In projectM, `reg` variables are always preset-specific and set to `0` when the preset starts.

## `q` Variables

In a preset, 32 variables named `q1` to `q32` can be used to pass values around within a preset, including the Warp and
Composite shaders. These variables are passed (copied) in a tree-like manner, which is best visualized as a diagram:

![Flow of q Variables](/content/preset-guide/q-var-diagram.png)

The data flow from preset init code to custom wave/shape init code was not shown in the `q` var diagram Ryan
Geiss' original guide, only documented as being present but mostly useless. In reality, the `q` vars actually _can_ be
useful to pass the values of some predefined per-frame variables to the wave/shape init code which are not available in
those code blocks, such as the aspect ratio.

## `t` Variables

Similar to the `q` variables, an additional 8 variables named `t1` to `t8` are available in the code of Custom Wave and
Custom Shape effects.

For each Custom Shape or Wave, an individual copy of those variables is used, meaning `t1` in shape 1 is different from
`t1` in shape 2.

![Flow of t Variables](/content/preset-guide/t-var-diagram.png)
